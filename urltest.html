<!DOCTYPE html>
<html>
<head>
	<title>URL Test</title>
		<script src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
		<script src="https://code.jquery.com/ui/1.11.1/jquery-ui.min.js"></script>
		<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.2/angular.min.js"></script>
		<script src="https://cdn.firebase.com/js/client/2.0.2/firebase.js"></script>
		<script src="https://cdn.firebase.com/libs/angularfire/0.9.0/angularfire.min.js"></script>
		<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.2/angular-route.min.js"></script>


	<script>

var app = angular.module("app", ["firebase"]);
app.controller("ctrl", function($scope, $firebase) {

	$.urlParam = function(name, url) {
	    if (!url) {
	     url = window.location.href;
	    }
	    var results = new RegExp('[\\?&]' + name + '=([^&#]*)').exec(url);
	    if (!results) { 
	        return undefined;
	    }
	    return results[1] || undefined;
		}
	var ideaID = $.urlParam('id');
	console.log(ideaID);

	  var ref = new Firebase("https://crowdfluttr.firebaseio.com/ideas/" + ideaID);
	  var sync = $firebase(ref);
	  var syncObject = sync.$asObject();
	  syncObject.$bindTo($scope, "data");

	ref.on("value", function(snapshot) {
	  var entries = snapshot.val();
	  console.log(entries);
	  $scope.hello = entries.idea;
	  console.log(entries.userEmail);
	}, function (errorObject) {
	  console.log("The read failed: " + errorObject.code);
	});
});
	</script>
</head>
<body>
<div ng-app="app" ng-controller="ctrl">
	{{"hello world"}}
	<br>
	{{hello}}
</div>

</body>
</html>
